### Теоретический блок: Библиотеки OpenCV и PIL (Pillow) в Python

#### **1. Введение в библиотеки OpenCV и PIL**

**OpenCV (Open Source Computer Vision Library):**
OpenCV — это библиотека с открытым исходным кодом, предназначенная для обработки изображений и видео, анализа движения, распознавания лиц и выполнения других задач компьютерного зрения. Она поддерживает множество языков программирования, включая Python, и предоставляет обширный набор функций для работы с изображениями и видео.

**PIL (Python Imaging Library) / Pillow:**
PIL изначально была одной из основных библиотек для обработки изображений в Python. Однако она больше не поддерживается. Вместо нее активно используется Pillow — форк PIL, который поддерживается и обновляется сообществом. Pillow предоставляет удобные функции для открытия, обработки и сохранения различных форматов изображений.

#### **2. Основные возможности OpenCV и Pillow**

| **Функциональность**         | **OpenCV**                                                                                                                                          | **Pillow**                                                                                                                                          |
|------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------|
| **Загрузка изображений**     | `cv2.imread()`                                                                                                                                       | `Image.open()`                                                                                                                                      |
| **Отображение изображений**  | `cv2.imshow()`, `cv2.waitKey()`, `cv2.destroyAllWindows()`                                                                                        | `image.show()`                                                                                                                                      |
| **Сохранение изображений**   | `cv2.imwrite()`                                                                                                                                       | `image.save()`                                                                                                                                      |
| **Преобразование цветов**    | `cv2.cvtColor()`                                                                                                                                      | `image.convert()`                                                                                                                                   |
| **Изменение размера**        | `cv2.resize()`                                                                                                                                         | `image.resize()`                                                                                                                                     |
| **Обрезка (Cropping)**       | Использование срезов NumPy-массивов                                                                                                                  | Использование метода `image.crop()`                                                                                                                  |
| **Поворот и трансформация**  | `cv2.rotate()`, `cv2.getRotationMatrix2D()`, `cv2.warpAffine()`                                                                                      | `image.rotate()`                                                                                                                                     |
| **Фильтрация изображений**   | Различные фильтры, такие как `cv2.GaussianBlur()`, `cv2.medianBlur()`, `cv2.bilateralFilter()`                                                         | Встроенные методы и возможности расширения через Pillow-фильтры                                                                                        |
| **Рисование на изображениях**| Функции рисования, такие как `cv2.line()`, `cv2.circle()`, `cv2.rectangle()`, `cv2.putText()`                                                           | Методы `ImageDraw` для рисования на изображениях                                                                                                     |
| **Работа с видео**           | Чтение и запись видеофайлов, обработка кадров в реальном времени                                                                                     | Ограниченные возможности работы с видео (основной фокус на статических изображениях)                                                                 |
| **Обнаружение объектов**     | Поддержка алгоритмов обнаружения и распознавания объектов, включая каскадные классификаторы, HOG, SIFT, SURF, ORB и др.                                | Отсутствует встроенная поддержка обнаружения объектов                                                                                                 |



### Задания для Семинара 1: Работа с изображениями

**Цель:** Закрепить теоретические знания о библиотеках OpenCV и Pillow через практические задания, освоить базовые операции загрузки, отображения и сохранения изображений.


#### **Задание 2: Загрузка и отображение изображений**

**Описание:**
1. Скачайте изображение `example.jpg` и поместите его в папку проекта `cv_seminar1`.
2. Напишите скрипт на Python для загрузки и отображения изображения с помощью OpenCV.
3. Напишите аналогичный скрипт для загрузки и отображения изображения с помощью Pillow.
4. Сравните отображение изображения в OpenCV и Pillow.

---

#### **Задание 3: Сохранение изображений в разных форматах**

**Описание:**
1. Загрузите изображение `example.jpg` с помощью OpenCV и сохраните его в формате PNG.
2. Загрузите изображение `example.jpg` с помощью Pillow и сохраните его в формате JPEG.
3. Проверьте сохраненные файлы.


#### **Задание 4: Работа с каналами изображения**

**Описание:**
1. Загрузите изображение `example.jpg` с помощью OpenCV и Pillow.
2. Разделите изображение на отдельные цветовые каналы (R, G, B).
3. Сохраните каждый канал как отдельное изображение.
4. Объедините каналы обратно в одно изображение и сохраните результат.


---

#### **Задание 5: Изменение размера и обрезка изображений**

**Описание:**
1. Загрузите изображение `example.jpg` с помощью OpenCV и Pillow.
2. Измените размер изображения до 300x300 пикселей.
3. Обрежьте центральную область размером 200x200 пикселей.
4. Сохраните полученные результаты.


---

#### **Задание 6: Поворот изображений на произвольный угол**

**Описание:**
1. Загрузите изображение `example.jpg` с помощью OpenCV и Pillow.
2. Поверните изображение на 45 градусов по часовой стрелке.
3. Поверните изображение на 45 градусов против часовой стрелки.
4. Сохраните результаты.


---

#### **Задание 7: Изменение контраста и яркости**

**Описание:**
1. Загрузите изображение `example.jpg` с помощью OpenCV и Pillow.
2. Увеличьте контраст изображения на 50% и яркость на 30 единиц.
3. Сохраните измененные изображения.



#### **Задание 8: Гистограмма изображения и её визуализация**

**Описание:**
1. Загрузите изображение `example.jpg` в градациях серого с помощью OpenCV и Pillow.
2. Вычислите гистограмму интенсивности пикселей.
3. Визуализируйте гистограмму.
4. Сохраните результаты.



#### **Задание 10: Конвертация между форматами OpenCV и Pillow**

**Описание:**
1. Загрузите изображение `example.jpg` с помощью OpenCV.
2. Преобразуйте его в формат Pillow, измените цветовое пространство и сохраните.
3. Загрузите изображение `saved_gray_pil.png` с помощью Pillow.
4. Преобразуйте его обратно в формат OpenCV, измените цветовое пространство и сохраните.


### Рекомендации и ресурсы

- **Документация OpenCV:** [https://docs.opencv.org/](https://docs.opencv.org/)
- **Документация Pillow:** [https://pillow.readthedocs.io/en/stable/](https://pillow.readthedocs.io/en/stable/)
- **Учебники и примеры:**
  - [OpenCV-Python Tutorials](https://docs.opencv.org/master/d6/d00/tutorial_py_root.html)
  - [Pillow Tutorial](https://pillow.readthedocs.io/en/stable/handbook/tutorial.html)
- **Книги:**
  - "Learning OpenCV 3" — Adrian Kaehler, Gary Bradski
  - "Python Imaging Library Handbook" — Fredrik Lundh

